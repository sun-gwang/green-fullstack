<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.내장객체</title>
    <!--
        날짜 : 2024/02/06
        이름 : 김선광
        내용 : 자바스크립트 내장객체 실습하기
    -->
</head>
<body>
    <h3>2.내장객체</h3>
    <h4>Array</h4>
    <script>
        const arr1 = [1,2,3,4,5];
        const arr2 = new Array(1,2,3,4,5);

        // 배열 반복문
        arr1.forEach( function(item, index){
            document.write('index : '+index+',item : '+item+'<br>')
        });
        
        arr2.forEach((item,index)=>{
            document.write('index : '+index+',item : '+item+'<br>')
        });
        
        // 배열 원소 가공처리
        const arr3 = arr1.map((item)=>{
            return item+10;
        });
        
        arr3.forEach((item,index)=>{
            document.write('index : '+index+',item : '+item+'<br>')
        });
        
        const arr4 = arr3.map(item=> item*2);
        document.write('arr4 :'+arr4 +'<br>');
        
        const arr5 = arr1.filter(item=>item%2==0);
        document.write('arr5 :'+arr5 +'<br>');
        
        const arr6 = arr1.map(item=> item*2).filter(item=>item>=5);
        document.write('arr6 :'+arr6 +'<br>');
    </script>

    <h4>String</h4>
    <script>
        const str1 = 'Hello Korea';
        const str2 = new String('Hello Korea');
        const str3 = '서울, 대전, 대구 ,부산, 광주';

        let r1 = str1.length;
        let r2 = str1.charAt(0);
        let r3 = str1.indexOf('e');
        let r4 = str1.lastIndexOf('e');
        let r5 = str2.replace('korea', 'Busan');
        let r6 = str2.substring(0,5);
        let r7 = str2.substr(0,5);
        let r8 = str3.split(',')[3];

        document.write('r1 : '+r1+'<br>');
        document.write('r2 : '+r2+'<br>');
        document.write('r3 : '+r3+'<br>');
        document.write('r4 : '+r4+'<br>');
        document.write('r5 : '+r5+'<br>');
        document.write('r6 : '+r6+'<br>');
        document.write('r7 : '+r7+'<br>');
        document.write('r8 : '+r8+'<br>');
    </script>

    <h4>정규표현식</h4>
    <script>
        // 정규표현식
        const regxp = new RegExp(/\d{3}/);
        let t1= regxp.test('hello');
        let t2= regxp.test('1');
        let t3= regxp.test('123');
        let t4= regxp.test('1234');

        document.write('t1 : ' + t1 + `<br>`);
        document.write('t2 : ' + t2 + `<br>`);
        document.write('t3 : ' + t3 + `<br>`);
        document.write('t4 : ' + t4 + `<br>`);

        const hp = '010-1234-1001';
        const matched = hp.match(/\d{4}/);
        // const matchAll = hp.matchAll(/\d{4}/);
        document.write('matched : ' + matched + '<br>');

        // 정규 표현식 플래그
        /*
            i : 대소문자 무시
            g : 전체
        */
       
       const testStr1 = 'Hello world hello javascript hello regex';
       
       const re1 = /hello/;
       const re2 = /hello/i;
       const re3 = /hello/g;
       const re4 = /hello/ig;
       
       document.write('re1 result : ' + testStr1.match(re1) + '<br>');
       document.write('re2 result : ' + testStr1.match(re2) + '<br>');
       document.write('re3 result : ' + testStr1.match(re3) + '<br>');
       document.write('re4 result : ' + testStr1.match(re4) + '<br>');
       
       // 정규표현식 메타
       /*
            ^ : 정규표현식 문자열 시작
            $ : 정규표현식 문자열 끝
            { : 정규표현식 문자열 반복 시작
            } : 정규표현식 문자열 반복 끝
            | : 정규표현식 OR
            [ : 사용자 정의 정규표현식 시작
            ] : 사용자 정의 정규표현식 끝
            - : 정규표현식 문자열 범위
            . : 문자 하나
            + : 문자가 1번 이상 반복되는 문자열
            ? : 문자가 0번 또는 1번인 문자열
            * : 문자가 0번 이상 반복되는 문자열 
       */
        const reg1 = /^[0-9]+$/;       // 숫자
        const reg2 = /^[0-9]\d*/;      // 숫자 (양수)
        const reg3 = /^\-[0-9]\d*/;    // 숫자 (음수)
        const reg4 = /^[a-zA-Z]+$/;    // 영문자
        const reg5 = /^[a-zA-z0-9]+$/; // 숫자와 영문자
        const reg6 = /^[가-힣]+$/;     // 한글문자
        const reg7 = /^.{5,10}$/      // 문자열 길이가 5~10

        document.write('reg1 test : ' + reg1.test('apple') + '<br>');
        document.write('reg1 test : ' + reg1.test('123') + '<br>');
        document.write('reg2 test : ' + reg2.test('10') + '<br>');
        document.write('reg2 test : ' + reg2.test('-10') + '<br>');
        document.write('reg3 test : ' + reg3.test('-10') + '<br>');
        document.write('reg4 test : ' + reg4.test('apple') + '<br>');
        document.write('reg4 test : ' + reg4.test('apple123') + '<br>');
        document.write('reg4 test : ' + reg4.test('APPLE') + '<br>');
        document.write('reg5 test : ' + reg5.test('apple123') + '<br>');
        document.write('reg6 test : ' + reg6.test('홍길동') + '<br>');
        document.write('reg6 test : ' + reg6.test('홍길동123') + '<br>');
        document.write('reg7 test : ' + reg7.test('abcd') + '<br>');
        document.write('reg7 test : ' + reg7.test('abcde') + '<br>');
        document.write('reg7 test : ' + reg7.test('abcd123') + '<br>');

        // 자주 사용하는 정규표현식
        const regEmail = /^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;
        const regPass = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/;
        const regHp = /^\d{3}-\d{3,4}-\d{4}$/;
       
        document.write('regEmail : ' + regEmail.test('홍길동@한국.com')+'<br>');
        document.write('regEmail : ' + regEmail.test('hong1234@korea.com')+'<br>');
        document.write('regPass : ' + regPass.test('Pass1234!@#')+'<br>');
        document.write('regHp : ' + regHp.test('010-123-1001')+'<br>');
        
    </script>

    <h4>Math</h4>
    <script>
        let rs1 = Math.abs(-5);
        let rs2 = Math.sqrt(9);
        let rs3 = Math.ceil(1.2);
        let rs4 = Math.ceil(1.8);
        let rs5 = Math.floor(1.2);
        let rs6 = Math.floor(1.8);
        let rs7 = Math.round(1.2);
        let rs8 = Math.round(1.8);
        
        document.write('rs1 : '+rs1+'<br>');
        document.write('rs2 : '+rs2+'<br>');
        document.write('rs3 : '+rs3+'<br>');
        document.write('rs4 : '+rs4+'<br>');
        document.write('rs5 : '+rs5+'<br>');
        document.write('rs6 : '+rs6+'<br>');
        document.write('rs7 : '+rs7+'<br>');
        document.write('rs8 : '+rs8+'<br>');

        let n1 = Math.random();
        let n2 = n1*10;
        let n3 = Math.ceil(n2);
        let n4 = Math.ceil(Math.random()*10);

        document.write('n1 : '+n1+'<br>');
        document.write('n2 : '+n2+'<br>');
        document.write('n3 : '+n3+'<br>');
        document.write('n4 : '+n4+'<br>');
    </script>

    <h4>Date</h4>
    <script>
        const date = new Date();
        document.write('date : '+date+'<br>');

        let year = date.getFullYear();
        let month = date.getMonth()+1;
        let day = date.getDate();
        let hour = date.getHours();
        let min = date.getMinutes();
        let sec = date.getSeconds();

        document.write(`${year}년 ${month}월 ${day}일 ${hour}:${min}:${sec}`);
    </script>
</body>
</html>